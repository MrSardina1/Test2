<h2>Comments Moderation</h2>

<div class="alert alert-info">
  @if(allComments.length === 0){
    No comments found
  }
</div>

<div class="comment-card">
  @for(item of allComments; track $index) {
    <div class="comment-header">
      <h5>{{ item.siteName }}</h5>
      <span [class]="'badge ' + getStatusClass(item.comment.approved)">
        {{ getStatusBadge(item.comment.approved) }}
      </span>
    </div>

    <div class="comment-content">
      <p><strong>Author:</strong> {{ item.comment.nom }}</p>
      <p><strong>Message:</strong> {{ item.comment.message }}</p>
      <p><strong>Date:</strong> {{ item.comment.date | date: 'short' }}</p>
      <p>
        @if(item.comment.note){
          <strong>Rating:</strong> {{ item.comment.note }}/5
        }
      </p>
    </div>

    <div class="comment-actions">
      @if(item.comment.approved !== true){
        <button (click)="approve(item)" class="btn btn-sm btn-success">Approve</button>
      }
      @if(item.comment.approved !== false){
        <button (click)="reject(item)" class="btn btn-sm btn-warning">Reject</button>
      }
      <button (click)="delete(item)" class="btn btn-sm btn-danger">
        Delete
      </button>
    </div>
  }
</div>
